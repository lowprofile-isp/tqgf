(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-upgrade-win"],{"129f":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */[data-v-4ac8201e]:export{baseColor:#6190e8;primary_color:#6190e8;uni_bg:#fff;uni_bg_dark:#12183d;uni_bg_dark_light:#262b54}.upgrade-popup[data-v-4ac8201e]{width:%?960?%;height:auto;position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#fff;border-radius:%?20?%;box-sizing:border-box;border:1px solid #eee}.header-bg[data-v-4ac8201e]{width:100%;margin-top:%?-112?%}.main[data-v-4ac8201e]{padding:%?10?% %?44?% %?30?%;box-sizing:border-box}.main .version[data-v-4ac8201e]{font-size:%?36?%;color:#026df7;font-weight:700;width:100%;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;letter-spacing:1px}.main .content[data-v-4ac8201e]{margin-top:%?40?%}.main .content .title[data-v-4ac8201e]{font-size:%?28?%;font-weight:700;color:#000}.main .content .desc[data-v-4ac8201e]{box-sizing:border-box;font-size:%?28?%;color:#000;max-height:80vh;overflow-y:auto}.main .footer[data-v-4ac8201e]{width:100%;height:%?96?%;display:flex;justify-content:center;align-items:center;position:relative;flex-shrink:0;margin-top:%?100?%}.main .footer .btn[data-v-4ac8201e]{width:%?246?%;display:flex;justify-content:center;align-items:center;position:relative;z-index:999;height:%?96?%;box-sizing:border-box;font-size:%?32?%;border-radius:%?10?%;letter-spacing:%?2?%}.main .footer .btn.force[data-v-4ac8201e]{width:%?500?%}.main .footer .btn.close[data-v-4ac8201e]{border:1px solid #e0e0e0;margin-right:%?25?%;color:#000}.main .footer .btn.upgrade[data-v-4ac8201e]{background-color:#026df7;color:#fff}.main .footer .progress-view[data-v-4ac8201e]{width:%?510?%;height:%?90?%;display:flex;position:relative;align-items:center;border-radius:%?6?%;background-color:#dcdcdc;display:flex;justify-content:flex-start;padding:0;box-sizing:border-box;border:none;overflow:hidden}.main .footer .progress-view.active[data-v-4ac8201e]{background-color:#026df7}.main .footer .progress-view .progress[data-v-4ac8201e]{height:100%;background-color:#026df7;padding:0;box-sizing:border-box;border:none;border-top-left-radius:%?10?%;border-bottom-left-radius:%?10?%}.main .footer .progress-view .txt[data-v-4ac8201e]{font-size:%?28?%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#fff}',""]),e.exports=t},1797:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uLineProgress:n("4eff").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"upgrade-popup"},[a("v-uni-image",{staticClass:"header-bg",attrs:{src:n("c90d"),mode:"widthFix"}}),a("v-uni-view",{staticClass:"main"},[e.isStartDownload?[a("v-uni-view",{staticClass:"version"},[e._v("下载中...")]),a("v-uni-view",{staticClass:"content"})]:[a("v-uni-view",{staticClass:"version"},[e._v(e._s(e.versionInfoWin.versionTitle||"版本更新"))]),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"desc",domProps:{innerHTML:e._s(e.versionInfoWin.versionDesc)}})],1)],e.isStartDownload?a("v-uni-view",{staticClass:"footer"},[a("u-line-progress",{attrs:{"active-color":"#2979ff",percent:e.percent,striped:!0,"striped-active":!0}})],1):e.versionInfoWin.isForceUpdate?a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"btn upgrade force",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleUpgrade.apply(void 0,arguments)}}},[e._v("立即更新")])],1):a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"btn close",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[e._v("以后再说")]),a("v-uni-view",{staticClass:"btn upgrade",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleUpgrade.apply(void 0,arguments)}}},[e._v("立即更新")])],1)],2)],1)},o=[]},2641:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,"uni-page-body[data-v-4ac8201e]{background:rgba(0,0,0,.5)\n\t/**设置窗口背景半透明*/}body.?%PAGE?%[data-v-4ac8201e]{background:rgba(0,0,0,.5)}",""]),e.exports=t},"28de":function(e,t,n){"use strict";var a=n("c315"),i=n.n(a);i.a},"2ddc":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.installApp=t.downloadApp=void 0,n("bf0f"),n("e966");t.downloadApp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return new Promise((function(n,a){var i=plus.downloader.createDownload(e,{method:"GET"},(function(e,t){console.log(t,"status"),200==t?n(e.filename):(a("fail"),uni.showToast({title:"下载失败",duration:1500,icon:"none"}))}));i.addEventListener("statechanged",(function(e,n){switch(e.state){case 1:break;case 2:break;case 3:var a=e.totalSize&&e.totalSize>0;if(a){var i=parseInt(100*e.downloadedSize/e.totalSize);t(i)}break;case 4:break}})),i.start()}))};t.installApp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a(t),plus.runtime.install(plus.io.convertLocalFileSystemURL(e),{},(function(){}),(function(e){uni.showToast({title:"安装失败",duration:1500,icon:"none"})}))};var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=plus.android.runtimeMainActivity(),n=plus.android.implements("io.dcloud.android.content.BroadcastReceiver",{onReceive:function(a,i){plus.android.importClass(i),t.unregisterReceiver(n),e()}}),a=plus.android.importClass("android.content.IntentFilter"),i=plus.android.importClass("android.content.Intent"),o=new a;o.addAction(i.ACTION_PACKAGE_ADDED),o.addDataScheme("package"),t.registerReceiver(n,o)}},"2e98":function(e,t,n){"use strict";var a=n("59b9"),i=n.n(a);i.a},"33ef":function(e,t,n){"use strict";n.r(t);var a=n("771c"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"4eff":function(e,t,n){"use strict";n.r(t);var a=n("b8be"),i=n("33ef");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("2e98");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"62fcb81c",null,!1,a["a"],void 0);t["default"]=s.exports},"59b9":function(e,t,n){var a=n("730f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("41288a64",a,!0,{sourceMap:!1,shadowMode:!1})},"5e48":function(e,t,n){var a=n("2641");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("1505bfbc",a,!0,{sourceMap:!1,shadowMode:!1})},"71ad":function(e,t,n){"use strict";n.r(t);var a=n("fcd4"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"730f":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */[data-v-62fcb81c]:export{baseColor:#6190e8;primary_color:#6190e8;uni_bg:#fff;uni_bg_dark:#12183d;uni_bg_dark_light:#262b54}.u-progress[data-v-62fcb81c]{overflow:hidden;height:15px;display:inline-flex;align-items:center;width:100%;border-radius:%?100?%}.u-active[data-v-62fcb81c]{width:0;height:100%;align-items:center;display:flex;flex-direction:row;justify-items:flex-end;justify-content:space-around;font-size:%?20?%;color:#fff;transition:all .4s ease}.u-striped[data-v-62fcb81c]{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-size:39px 39px}.u-striped-active[data-v-62fcb81c]{-webkit-animation:progress-stripes-data-v-62fcb81c 2s linear infinite;animation:progress-stripes-data-v-62fcb81c 2s linear infinite}@-webkit-keyframes progress-stripes-data-v-62fcb81c{0%{background-position:0 0}100%{background-position:39px 0}}@keyframes progress-stripes-data-v-62fcb81c{0%{background-position:0 0}100%{background-position:39px 0}}',""]),e.exports=t},"771c":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var a={name:"u-line-progress",props:{round:{type:Boolean,default:!0},type:{type:String,default:""},activeColor:{type:String,default:"#19be6b"},inactiveColor:{type:String,default:"#ececec"},percent:{type:Number,default:0},showPercent:{type:Boolean,default:!0},height:{type:[Number,String],default:28},striped:{type:Boolean,default:!1},stripedActive:{type:Boolean,default:!1}},data:function(){return{}},computed:{progressStyle:function(){var e={};return e.width=this.percent+"%",this.activeColor&&(e.backgroundColor=this.activeColor),e}},methods:{}};t.default=a},b8be:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-progress",style:{borderRadius:e.round?"100rpx":0,height:e.height+"rpx",backgroundColor:e.inactiveColor}},[n("v-uni-view",{staticClass:"u-active",class:[e.type?"u-type-"+e.type+"-bg":"",e.striped?"u-striped":"",e.striped&&e.stripedActive?"u-striped-active":""],style:[e.progressStyle]},[e.$slots.default||e.$slots.$default?e._t("default"):e.showPercent?[e._v(e._s(e.percent+"%"))]:e._e()],2)],1)},i=[]},c315:function(e,t,n){var a=n("129f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("2728c624",a,!0,{sourceMap:!1,shadowMode:!1})},c64c:function(e,t,n){"use strict";n.r(t);var a=n("1797"),i=n("71ad");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("cb1c"),n("28de");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"4ac8201e",null,!1,a["a"],void 0);t["default"]=s.exports},c90d:function(e,t,n){e.exports=n.p+"static/images/upgrade/upgrade_bg.png"},cb1c:function(e,t,n){"use strict";var a=n("5e48"),i=n.n(a);i.a},fcd4:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("2ddc");var a={data:function(){return{percent:0,isStartDownload:!1}},computed:{versionInfoWin:function(){return this.$mStore.state.versionInfoWin}},onLoad:function(){},onBackPress:function(e){if("backbutton"==e.from)return!0},methods:{handleUpgrade:function(){var e,t=this;null!==(e=window)&&void 0!==e&&e.myElectronAPI&&(window.myElectronAPI.confirmDownload(),this.isStartDownload=!0,window.myElectronAPI.onUpdate((function(e,n){t.percent=n.percent.toFixed(1)})))},handleClose:function(){uni.navigateBack()}}};t.default=a}}]);